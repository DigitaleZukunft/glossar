var app=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function o(){}function r(e){return e()}function l(){return Object.create(null)}function u(e){e.forEach(r)}function a(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function m(){return g(" ")}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function v(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}let $;function k(e){$=e}const w=[],x=[],S=[],K=[],E=Promise.resolve();let q=!1;function A(e){S.push(e)}let L=!1;const j=new Set;function z(){if(!L){L=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];k(t),C(t.$$)}for(k(null),w.length=0;x.length;)x.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];j.has(t)||(j.add(t),t())}S.length=0}while(w.length);for(;K.length;)K.pop()();q=!1,L=!1,j.clear()}}function C(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(A)}}const O=new Set;function B(e,t){-1===e.$$.dirty[0]&&(w.push(e),q||(q=!0,E.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function T(e,t,n,i,s,c,h=[-1]){const d=$;k(e);const g=e.$$={fragment:null,ctx:null,props:c,update:o,not_equal:s,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:t.context||[]),callbacks:l(),dirty:h,skip_bound:!1};let m=!1;if(g.ctx=n?n(e,t.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return g.ctx&&s(g.ctx[t],g.ctx[t]=r)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](r),m&&B(e,t)),n})):[],g.update(),m=!0,u(g.before_update),g.fragment=!!i&&i(g.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);g.fragment&&g.fragment.l(e),e.forEach(f)}else g.fragment&&g.fragment.c();t.intro&&((p=e.$$.fragment)&&p.i&&(O.delete(p),p.i(y))),function(e,t,n,o){const{fragment:l,on_mount:i,on_destroy:s,after_update:c}=e.$$;l&&l.m(t,n),o||A((()=>{const t=i.map(r).filter(a);s?s.push(...t):u(t),e.$$.on_mount=[]})),c.forEach(A)}(e,t.target,t.anchor,t.customElement),z()}var p,y;k(d)}const D={minMatchCharLength:2,threshold:.35,useExtendedSearch:!1,ignoreLocation:!0};class M{constructor(e,t,n){if(this.data=e,this.dataSource=t,n){const n=e.map((e=>({merged:t.searchKeys.map((t=>e[t])).join(" "),[t.primaryKey]:e[t.primaryKey]})));return D.keys=["merged"],console.log(n),void(this.fuse=new Fuse(n,D))}D.keys=t.searchKeys,this.fuse=new Fuse(this.data,D)}async highlight(e){this.mark&&await this.mark.unmark();const t=document.querySelectorAll("tr");this.mark=new Mark(t),this.mark.mark(e)}search(e){if(!e||e.length<2)return this.data;const t=this.fuse.search(e).map((e=>e.item[this.dataSource.primaryKey])),n=new Set(t);return this.data.filter((e=>n.has(e[this.dataSource.primaryKey])))}}var N={title:"DZKH-GLOSSAR",primaryKey:"bezeichnung",sortKey:"bezeichnung",searchKeys:["bezeichnung","synonyme","beschreibung","begriffsklasse"],csv:"data/glossary.csv",columns:[{id:"bezeichnung",label:"Bezeichnung"},{id:"beschreibung",label:"Beschreibung"},{id:"begriffsklasse",label:"Begriffsklasse"}]};function P(e,t,n){const o=e.slice();return o[9]=t[n],o}function F(e,t,n){const o=e.slice();return o[12]=t[n],o}function G(e,t,n){const o=e.slice();return o[12]=t[n],o[15]=t,o[16]=n,o}function H(e,t,n){const o=e.slice();return o[12]=t[n],o}function Q(e){let t,n,o=e[12].label+"";return{c(){t=d("th"),n=g(o)},m(e,o){c(e,t,o),s(t,n)},p(e,t){1&t&&o!==(o=e[12].label+"")&&_(n,o)},d(e){e&&f(t)}}}function R(e){let t,n,o,r,l;function u(){e[6].call(n,e[15],e[16])}return{c(){t=d("td"),n=d("input"),y(n,"type","search"),y(n,"class","singleSearch svelte-1u6qyk6"),y(n,"placeholder","üîç"),y(n,"aria-label",o="Suchanfrage nach "+e[12].label)},m(o,a){c(o,t,a),s(t,n),b(n,e[12].query),r||(l=p(n,"input",u),r=!0)},p(t,r){e=t,1&r&&o!==(o="Suchanfrage nach "+e[12].label)&&y(n,"aria-label",o),1&r&&b(n,e[12].query)},d(e){e&&f(t),r=!1,l()}}}function Z(e){let t,n,o=e[9][e[12].id]+"";return{c(){t=d("td"),n=g(o)},m(e,o){c(e,t,o),s(t,n)},p(e,t){3&t&&o!==(o=e[9][e[12].id]+"")&&_(n,o)},d(e){e&&f(t)}}}function I(e){let t,n,o=e[0].columns,r=[];for(let t=0;t<o.length;t+=1)r[t]=Z(F(e,o,t));return{c(){t=d("tr");for(let e=0;e<r.length;e+=1)r[e].c();n=m()},m(e,o){c(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);s(t,n)},p(e,l){if(3&l){let u;for(o=e[0].columns,u=0;u<o.length;u+=1){const a=F(e,o,u);r[u]?r[u].p(a,l):(r[u]=Z(a),r[u].c(),r[u].m(t,n))}for(;u<r.length;u+=1)r[u].d(1);r.length=o.length}},d(e){e&&f(t),h(r,e)}}}function J(e){let t,n,r,l,u,a,i,b,$,k,w,x,S,K,E,q,A,L,j,z,C,O,B,T,D=e[0].title+"",M=e[0].columns,N=[];for(let t=0;t<M.length;t+=1)N[t]=Q(H(e,M,t));let F=e[0].columns,Z=[];for(let t=0;t<F.length;t+=1)Z[t]=R(G(e,F,t));let J=e[1],U=[];for(let t=0;t<J.length;t+=1)U[t]=I(P(e,J,t));return{c(){t=d("main"),n=d("h1"),r=g(D),l=m(),u=d("input"),a=m(),i=d("table");for(let e=0;e<N.length;e+=1)N[e].c();b=m(),$=d("tbody"),k=d("tr");for(let e=0;e<Z.length;e+=1)Z[e].c();w=m();for(let e=0;e<U.length;e+=1)U[e].c();x=m(),S=d("datalist"),K=d("option"),E=d("option"),q=d("option"),A=d("option"),L=d("option"),j=d("option"),z=d("option"),C=d("option"),O=d("option"),y(u,"type","search"),y(u,"placeholder","üîç"),v(u,"width","80%"),v(u,"min-width","20em"),y(u,"tabindex","0"),u.autofocus=!0,v(i,"width","100%"),y(i,"aria-label","Glossareintr√§ge"),K.__value="Aufgabe",K.value=K.__value,E.__value="Anwendungssystem",E.value=E.__value,q.__value="Datenobjekt",q.value=q.__value,A.__value="Physisches Datenverarbeitungssystem",A.value=A.__value,L.__value="Organisationseinheit",L.value=L.__value,j.__value="Standard",j.value=j.__value,z.__value="Technologisches Themengebiet",z.value=z.__value,C.__value="Qualit√§tskriterium",C.value=C.__value,O.__value="Sonstiges",O.value=O.__value,y(S,"id","begriffsklassen")},m(o,f){c(o,t,f),s(t,n),s(n,r),s(t,l),s(t,u),s(t,a),s(t,i);for(let e=0;e<N.length;e+=1)N[e].m(i,null);s(i,b),s(i,$),s($,k);for(let e=0;e<Z.length;e+=1)Z[e].m(k,null);s($,w);for(let e=0;e<U.length;e+=1)U[e].m($,null);s(t,x),s(t,S),s(S,K),s(S,E),s(S,q),s(S,A),s(S,L),s(S,j),s(S,z),s(S,C),s(S,O),u.focus(),B||(T=p(u,"input",e[2]),B=!0)},p(e,[t]){if(1&t&&D!==(D=e[0].title+"")&&_(r,D),1&t){let n;for(M=e[0].columns,n=0;n<M.length;n+=1){const o=H(e,M,n);N[n]?N[n].p(o,t):(N[n]=Q(o),N[n].c(),N[n].m(i,b))}for(;n<N.length;n+=1)N[n].d(1);N.length=M.length}if(1&t){let n;for(F=e[0].columns,n=0;n<F.length;n+=1){const o=G(e,F,n);Z[n]?Z[n].p(o,t):(Z[n]=R(o),Z[n].c(),Z[n].m(k,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=F.length}if(3&t){let n;for(J=e[1],n=0;n<J.length;n+=1){const o=P(e,J,n);U[n]?U[n].p(o,t):(U[n]=I(o),U[n].c(),U[n].m($,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=J.length}},i:o,o:o,d(e){e&&f(t),h(N,e),h(Z,e),h(U,e),B=!1,T()}}}function U(e,t,o){let r=[],l=[],u=null;for(let e=0;e<N.columns.length;e++);!async function(){o(3,r=await d3.csv(N.csv)),r.sort(((e,t)=>e[N.sortKey]>t[N.sortKey]?1:-1)),o(1,l=r),o(4,u=new M(r,N,!0))}();let a="";const i=n.default((e=>{o(5,a=e.target.value)}),100);return e.$$.update=()=>{if(59&e.$$.dirty&&r.length>0&&u){o(1,l=u.search(a));for(const e of N.columns)e.query&&o(1,l=l.filter((t=>t[e.id].toLowerCase().includes(e.query.toLowerCase()))))}},[N,l,i,r,u,a,function(e,t){e[t].query=this.value,o(0,N)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),T(this,e,U,J,i,{})}}({target:document.body,props:{}})}(debounce);
//# sourceMappingURL=bundle.js.map
