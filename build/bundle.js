var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function c(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function p(t,e){t.value=null==e?"":e}function _(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let y;function b(t){y=t}const v=[],$=[],S=[],k=[],w=Promise.resolve();let x=!1;function D(t){S.push(t)}let T=!1;const K=new Set;function E(){if(!T){T=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];b(e),q(e.$$)}for(b(null),v.length=0;$.length;)$.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];K.has(e)||(K.add(e),e())}S.length=0}while(v.length);for(;k.length;)k.pop()();x=!1,T=!1,K.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const A=new Set;function L(t,e){-1===t.$$.dirty[0]&&(v.push(t),x||(x=!0,w.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(o,a,s,u,c,h,f=[-1]){const d=y;b(o);const g=o.$$={fragment:null,ctx:null,props:h,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:a.context||[]),callbacks:n(),dirty:f,skip_bound:!1};let m=!1;if(g.ctx=s?s(o,a.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return g.ctx&&c(g.ctx[t],g.ctx[t]=r)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](r),m&&L(o,t)),e})):[],g.update(),m=!0,r(g.before_update),g.fragment=!!u&&u(g.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);g.fragment&&g.fragment.l(t),t.forEach(i)}else g.fragment&&g.fragment.c();a.intro&&((p=o.$$.fragment)&&p.i&&(A.delete(p),p.i(_))),function(t,n,o,a){const{fragment:s,on_mount:i,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,o),a||D((()=>{const n=i.map(e).filter(l);u?u.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(D)}(o,a.target,a.anchor,a.customElement),E()}var p,_;b(d)}const C={minMatchCharLength:2,threshold:.2,useExtendedSearch:!0,ignoreLocation:!0};class O{constructor(t,e){this.data=t,this.dataSource=e,C.keys=e.searchKeys,this.fuse=new Fuse(t,C),this.initialized=!0,this.lastSearchStart=(new Date).getTime(),this.lastSearchTaskStart=(new Date).getTime(),this.lastSearchDuration=0}async highlight(t){this.mark&&await this.mark.unmark();const e=document.querySelectorAll("tr");this.mark=new Mark(e),this.mark.mark(t)}search(t){if(!t||t.length<2)return this.data;const e=(new Date).getTime();this.lastSearchStart=e;const n=this.fuse.search(t).map((t=>t.item[this.dataSource.primaryKey])),r=new Set(n),l=this.data.filter((t=>r.has(t[this.dataSource.primaryKey]))),o=(new Date).getTime();return this.lastSearchDuration=o-e,l}throttledSearch(t){const e=(new Date).getTime();this.lastSearchTaskStart=e,this.lastSearchDuration>100&&e-this.lastSearchStart<4*this.lastSearchDuration?setTimeout((()=>{this.lastSearchTaskStart===e&&this.search(t)}),4*this.lastSearchDuration):this.search(t)}}var j={title:"SNIK-GLOSSAR",primaryKey:"bezeichnung",sortKey:"bezeichnung",searchKeys:["bezeichnung","synonyme","beschreibung","begriffsklasse"],csvFile:"data/glossary.csv",columns:[{id:"bezeichnung",label:"Bezeichnung"},{id:"beschreibung",label:"Beschreibung"},{id:"begriffsklasse",label:"Begriffsklasse"}]};function B(t,e,n){const r=t.slice();return r[9]=e[n],r}function N(t,e,n){const r=t.slice();return r[12]=e[n],r}function F(t,e,n){const r=t.slice();return r[12]=e[n],r[15]=e,r[16]=n,r}function G(t,e,n){const r=t.slice();return r[12]=e[n],r}function M(t){let e,n,r=t[12].label+"";return{c(){e=c("th"),n=h(r)},m(t,r){s(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[12].label+"")&&m(n,r)},d(t){t&&i(e)}}}function P(t){let e,n,r,l,o;function u(){t[6].call(n,t[15],t[16])}return{c(){e=c("td"),n=c("input"),g(n,"type","search"),g(n,"class","singleSearch svelte-1u6qyk6"),g(n,"placeholder","üîç"),g(n,"aria-label",r="Suchanfrage nach "+t[12].label)},m(r,i){s(r,e,i),a(e,n),p(n,t[12].query),l||(o=d(n,"input",u),l=!0)},p(e,l){t=e,1&l&&r!==(r="Suchanfrage nach "+t[12].label)&&g(n,"aria-label",r),1&l&&p(n,t[12].query)},d(t){t&&i(e),l=!1,o()}}}function H(t){let e,n,r=t[9][t[12].id]+"";return{c(){e=c("td"),n=h(r)},m(t,r){s(t,e,r),a(e,n)},p(t,e){3&e&&r!==(r=t[9][t[12].id]+"")&&m(n,r)},d(t){t&&i(e)}}}function I(t){let e,n,r=t[0].columns,l=[];for(let e=0;e<r.length;e+=1)l[e]=H(N(t,r,e));return{c(){e=c("tr");for(let t=0;t<l.length;t+=1)l[t].c();n=f()},m(t,r){s(t,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);a(e,n)},p(t,o){if(3&o){let a;for(r=t[0].columns,a=0;a<r.length;a+=1){const s=N(t,r,a);l[a]?l[a].p(s,o):(l[a]=H(s),l[a].c(),l[a].m(e,n))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},d(t){t&&i(e),u(l,t)}}}function Q(e){let n,r,l,o,h,m,y,b,v,$,S,k,w,x,D,T,K,E,q,A,L,z,C,O=e[0].columns,j=[];for(let t=0;t<O.length;t+=1)j[t]=M(G(e,O,t));let N=e[0].columns,H=[];for(let t=0;t<N.length;t+=1)H[t]=P(F(e,N,t));let Q=e[1],R=[];for(let t=0;t<Q.length;t+=1)R[t]=I(B(e,Q,t));return{c(){n=c("main"),r=c("h1"),r.textContent="DZKH-Glossar",l=f(),o=c("input"),h=f(),m=c("table");for(let t=0;t<j.length;t+=1)j[t].c();y=f(),b=c("tbody"),v=c("tr");for(let t=0;t<H.length;t+=1)H[t].c();$=f();for(let t=0;t<R.length;t+=1)R[t].c();S=f(),k=c("datalist"),w=c("option"),x=c("option"),D=c("option"),T=c("option"),K=c("option"),E=c("option"),q=c("option"),A=c("option"),L=c("option"),g(o,"type","search"),g(o,"placeholder","üîç"),_(o,"width","80%"),_(o,"min-width","20em"),g(o,"tabindex","0"),o.autofocus=!0,_(m,"width","100%"),g(m,"aria-label","Glossareintr√§ge"),w.__value="Aufgabe",w.value=w.__value,x.__value="Anwendungssystem",x.value=x.__value,D.__value="Datenobjekt",D.value=D.__value,T.__value="Physisches Datenverarbeitungssystem",T.value=T.__value,K.__value="Organisationseinheit",K.value=K.__value,E.__value="Standard",E.value=E.__value,q.__value="Technologisches Themengebiet",q.value=q.__value,A.__value="Qualit√§tskriterium",A.value=A.__value,L.__value="Sonstiges",L.value=L.__value,g(k,"id","begriffsklassen")},m(t,i){s(t,n,i),a(n,r),a(n,l),a(n,o),p(o,e[2]),a(n,h),a(n,m);for(let t=0;t<j.length;t+=1)j[t].m(m,null);a(m,y),a(m,b),a(b,v);for(let t=0;t<H.length;t+=1)H[t].m(v,null);a(b,$);for(let t=0;t<R.length;t+=1)R[t].m(b,null);a(n,S),a(n,k),a(k,w),a(k,x),a(k,D),a(k,T),a(k,K),a(k,E),a(k,q),a(k,A),a(k,L),o.focus(),z||(C=d(o,"input",e[5]),z=!0)},p(t,[e]){if(4&e&&p(o,t[2]),1&e){let n;for(O=t[0].columns,n=0;n<O.length;n+=1){const r=G(t,O,n);j[n]?j[n].p(r,e):(j[n]=M(r),j[n].c(),j[n].m(m,y))}for(;n<j.length;n+=1)j[n].d(1);j.length=O.length}if(1&e){let n;for(N=t[0].columns,n=0;n<N.length;n+=1){const r=F(t,N,n);H[n]?H[n].p(r,e):(H[n]=P(r),H[n].c(),H[n].m(v,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=N.length}if(3&e){let n;for(Q=t[1],n=0;n<Q.length;n+=1){const r=B(t,Q,n);R[n]?R[n].p(r,e):(R[n]=I(r),R[n].c(),R[n].m(b,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=Q.length}},i:t,o:t,d(t){t&&i(n),u(j,t),u(H,t),u(R,t),z=!1,C()}}}function R(t,e,n){let r=[],l=[],o="",a=null;for(let t=0;t<j.columns.length;t++);return async function(){n(3,r=await d3.csv(j.csvFile)),r.sort(((t,e)=>t[j.sortKey]>e[j.sortKey]?1:-1)),n(1,l=r),n(4,a=new O(r,j))}(),t.$$.update=()=>{if(31&t.$$.dirty&&r.length>0&&a){n(1,l=a.search(o)),a.highlight(o);for(const t of j.columns)t.query&&n(1,l=l.filter((e=>e[t.id].toLowerCase().includes(t.query.toLowerCase()))))}},[j,l,o,r,a,function(){o=this.value,n(2,o)},function(t,e){t[e].query=this.value,n(0,j)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),z(this,t,R,Q,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
