var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function c(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function d(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function p(t,e){t.value=null==e?"":e}function _(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}let y;function b(t){y=t}const v=[],S=[],$=[],A=[],w=Promise.resolve();let k=!1;function D(t){$.push(t)}let T=!1;const E=new Set;function L(){if(!T){T=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];b(e),x(e.$$)}for(b(null),v.length=0;S.length;)S.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];E.has(e)||(E.add(e),e())}$.length=0}while(v.length);for(;A.length;)A.pop()();k=!1,T=!1,E.clear()}}function x(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const F=new Set;function C(t,e){-1===t.$$.dirty[0]&&(v.push(t),k||(k=!0,w.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(a,o,s,u,c,h,f=[-1]){const d=y;b(a);const g=a.$$={fragment:null,ctx:null,props:h,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:o.context||[]),callbacks:n(),dirty:f,skip_bound:!1};let m=!1;if(g.ctx=s?s(a,o.props||{},((t,e,...n)=>{const l=n.length?n[0]:e;return g.ctx&&c(g.ctx[t],g.ctx[t]=l)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](l),m&&C(a,t)),e})):[],g.update(),m=!0,l(g.before_update),g.fragment=!!u&&u(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(i)}else g.fragment&&g.fragment.c();o.intro&&((p=a.$$.fragment)&&p.i&&(F.delete(p),p.i(_))),function(t,n,a,o){const{fragment:s,on_mount:i,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,a),o||D((()=>{const n=i.map(e).filter(r);u?u.push(...n):l(n),t.$$.on_mount=[]})),c.forEach(D)}(a,o.target,o.anchor,o.customElement),L()}var p,_;b(d)}const N={minMatchCharLength:2,threshold:.2,useExtendedSearch:!0,ignoreLocation:!0};class K{constructor(t,e){this.data=t,this.dataSource=e,N.keys=e.searchKeys,this.fuse=new Fuse(t,N),this.initialized=!0,this.lastSearchStart=(new Date).getTime(),this.lastSearchTaskStart=(new Date).getTime(),this.lastSearchDuration=0}async highlight(t){this.mark&&await this.mark.unmark();const e=document.querySelectorAll("tr");this.mark=new Mark(e),this.mark.mark(t)}search(t){if(!t||t.length<2)return this.data;const e=(new Date).getTime();this.lastSearchStart=e;const n=this.fuse.search(t).map((t=>t.item[this.dataSource.primaryKey])),l=new Set(n),r=this.data.filter((t=>l.has(t[this.dataSource.primaryKey]))),a=(new Date).getTime();return this.lastSearchDuration=a-e,r}throttledSearch(t){const e=(new Date).getTime();this.lastSearchTaskStart=e,this.lastSearchDuration>100&&e-this.lastSearchStart<4*this.lastSearchDuration?setTimeout((()=>{this.lastSearchTaskStart===e&&this.search(t)}),4*this.lastSearchDuration):this.search(t)}}var G={title:"SNIK-GLOSSAR",primaryKey:"uri",sortKey:"label",searchKeys:["label","def","st"],csv:"https://www.snik.eu/sparql?default-graph-uri=&query=SELECT+%3Furi+STR%28SAMPLE%28%3Flabel%29%29+as+%3Flabel+STR%28SAMPLE%28%3Fdef%29%29+as+%3Fdef+STR%28%3Fst%29+as+%3Fst%0D%0A%7B%0D%0A++%3Furi+a+owl%3AClass%3B%0D%0A+++++++rdfs%3Alabel+%3Flabel%3B%0D%0A+++++++skos%3Adefinition+%3Fdef%3B%0D%0A+++++++meta%3AsubTopClass+%5Brdfs%3Alabel+%3Fst%5D.%0D%0A%0D%0A++FILTER%28LANGMATCHES%28LANG%28%3Flabel%29%2C%22en%22%29%7C%7CLANGMATCHES%28LANG%28%3Flabel%29%2C%22de%22%29%29%0D%0A++FILTER%28LANGMATCHES%28LANG%28%3Fst%29%2C%22de%22%29%29%0D%0A%7D&format=csv",columns:[{id:"label",label:"Bezeichnung"},{id:"def",label:"Definition"},{id:"st",label:"Typ"}]};function M(t,e,n){const l=t.slice();return l[9]=e[n],l}function B(t,e,n){const l=t.slice();return l[12]=e[n],l}function R(t,e,n){const l=t.slice();return l[12]=e[n],l[15]=e,l[16]=n,l}function O(t,e,n){const l=t.slice();return l[12]=e[n],l}function P(t){let e,n,l=t[12].label+"";return{c(){e=c("th"),n=h(l)},m(t,l){s(t,e,l),o(e,n)},p(t,e){1&e&&l!==(l=t[12].label+"")&&m(n,l)},d(t){t&&i(e)}}}function j(t){let e,n,l,r,a;function u(){t[6].call(n,t[15],t[16])}return{c(){e=c("td"),n=c("input"),g(n,"type","search"),g(n,"class","singleSearch svelte-1u6qyk6"),g(n,"placeholder","üîç"),g(n,"aria-label",l="Suchanfrage nach "+t[12].label)},m(l,i){s(l,e,i),o(e,n),p(n,t[12].query),r||(a=d(n,"input",u),r=!0)},p(e,r){t=e,1&r&&l!==(l="Suchanfrage nach "+t[12].label)&&g(n,"aria-label",l),1&r&&p(n,t[12].query)},d(t){t&&i(e),r=!1,a()}}}function H(t){let e,n,l=t[9][t[12].id]+"";return{c(){e=c("td"),n=h(l)},m(t,l){s(t,e,l),o(e,n)},p(t,e){3&e&&l!==(l=t[9][t[12].id]+"")&&m(n,l)},d(t){t&&i(e)}}}function I(t){let e,n,l=t[0].columns,r=[];for(let e=0;e<l.length;e+=1)r[e]=H(B(t,l,e));return{c(){e=c("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=f()},m(t,l){s(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);o(e,n)},p(t,a){if(3&a){let o;for(l=t[0].columns,o=0;o<l.length;o+=1){const s=B(t,l,o);r[o]?r[o].p(s,a):(r[o]=H(s),r[o].c(),r[o].m(e,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=l.length}},d(t){t&&i(e),u(r,t)}}}function z(e){let n,l,r,a,y,b,v,S,$,A,w,k,D,T,E,L,x,F,C,q,N,K,G,B,H=e[0].title+"",z=e[0].columns,Q=[];for(let t=0;t<z.length;t+=1)Q[t]=P(O(e,z,t));let J=e[0].columns,U=[];for(let t=0;t<J.length;t+=1)U[t]=j(R(e,J,t));let V=e[1],W=[];for(let t=0;t<V.length;t+=1)W[t]=I(M(e,V,t));return{c(){n=c("main"),l=c("h1"),r=h(H),a=f(),y=c("input"),b=f(),v=c("table");for(let t=0;t<Q.length;t+=1)Q[t].c();S=f(),$=c("tbody"),A=c("tr");for(let t=0;t<U.length;t+=1)U[t].c();w=f();for(let t=0;t<W.length;t+=1)W[t].c();k=f(),D=c("datalist"),T=c("option"),E=c("option"),L=c("option"),x=c("option"),F=c("option"),C=c("option"),q=c("option"),N=c("option"),K=c("option"),g(y,"type","search"),g(y,"placeholder","üîç"),_(y,"width","80%"),_(y,"min-width","20em"),g(y,"tabindex","0"),y.autofocus=!0,_(v,"width","100%"),g(v,"aria-label","Glossareintr√§ge"),T.__value="Aufgabe",T.value=T.__value,E.__value="Anwendungssystem",E.value=E.__value,L.__value="Datenobjekt",L.value=L.__value,x.__value="Physisches Datenverarbeitungssystem",x.value=x.__value,F.__value="Organisationseinheit",F.value=F.__value,C.__value="Standard",C.value=C.__value,q.__value="Technologisches Themengebiet",q.value=q.__value,N.__value="Qualit√§tskriterium",N.value=N.__value,K.__value="Sonstiges",K.value=K.__value,g(D,"id","begriffsklassen")},m(t,i){s(t,n,i),o(n,l),o(l,r),o(n,a),o(n,y),p(y,e[2]),o(n,b),o(n,v);for(let t=0;t<Q.length;t+=1)Q[t].m(v,null);o(v,S),o(v,$),o($,A);for(let t=0;t<U.length;t+=1)U[t].m(A,null);o($,w);for(let t=0;t<W.length;t+=1)W[t].m($,null);o(n,k),o(n,D),o(D,T),o(D,E),o(D,L),o(D,x),o(D,F),o(D,C),o(D,q),o(D,N),o(D,K),y.focus(),G||(B=d(y,"input",e[5]),G=!0)},p(t,[e]){if(1&e&&H!==(H=t[0].title+"")&&m(r,H),4&e&&p(y,t[2]),1&e){let n;for(z=t[0].columns,n=0;n<z.length;n+=1){const l=O(t,z,n);Q[n]?Q[n].p(l,e):(Q[n]=P(l),Q[n].c(),Q[n].m(v,S))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=z.length}if(1&e){let n;for(J=t[0].columns,n=0;n<J.length;n+=1){const l=R(t,J,n);U[n]?U[n].p(l,e):(U[n]=j(l),U[n].c(),U[n].m(A,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=J.length}if(3&e){let n;for(V=t[1],n=0;n<V.length;n+=1){const l=M(t,V,n);W[n]?W[n].p(l,e):(W[n]=I(l),W[n].c(),W[n].m($,null))}for(;n<W.length;n+=1)W[n].d(1);W.length=V.length}},i:t,o:t,d(t){t&&i(n),u(Q,t),u(U,t),u(W,t),G=!1,B()}}}function Q(t,e,n){let l=[],r=[],a="",o=null;for(let t=0;t<G.columns.length;t++);return async function(){n(3,l=await d3.csv(G.csv)),l.sort(((t,e)=>t[G.sortKey]>e[G.sortKey]?1:-1)),n(1,r=l),n(4,o=new K(l,G))}(),t.$$.update=()=>{if(31&t.$$.dirty&&l.length>0&&o){n(1,r=o.search(a)),o.highlight(a);for(const t of G.columns)t.query&&n(1,r=r.filter((e=>e[t.id].toLowerCase().includes(t.query.toLowerCase()))))}},[G,r,a,l,o,function(){a=this.value,n(2,a)},function(t,e){t[e].query=this.value,n(0,G)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),q(this,t,Q,z,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
