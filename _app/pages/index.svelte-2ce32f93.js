import{H as t,S as e,i as l,s as n,e as r,t as a,c as o,a as s,g as i,d as c,f as h,F as u,h as f,b as d,I as m,J as g,k as p,n as y,l as A,K as D,L as b,G as F,M as v}from"../chunks/vendor-20ced20d.js";const T={minMatchCharLength:2,threshold:.35,useExtendedSearch:!1,ignoreLocation:!0};class E{constructor(e,l,n){if(this.data=e,this.dataSource=l,n){const n=e.map((t=>({merged:l.searchKeys.map((e=>t[e])).join(" "),[l.primaryKey]:t[l.primaryKey]})));return T.keys=["merged"],void(this.fuse=new t(n,T))}T.keys=l.searchKeys,this.fuse=new t(this.data,T)}async highlight(t){this.mark&&await this.mark.unmark();const e=document.querySelectorAll("tr");this.mark=new Mark(e),this.mark.mark(t)}search(t){if(!t||t.length<2)return this.data;const e=this.fuse.search(t).map((t=>t.item[this.dataSource.primaryKey])),l=new Set(e);return this.data.filter((t=>l.has(t[this.dataSource.primaryKey])))}}const L=t=>t?`<a href="${t}" target="_blank">${t.replace(/.*\//,"")}</a>`:"";var S={title:"HITO-Ontology",primaryKey:"uri",sortKey:"label",searchKeys:["label","comment"],csv:"https://hitontology.eu/sparql/?default-graph-uri=&query=SELECT+%3Furi%0D%0A%3Fparent%0D%0ASTR%28SAMPLE%28%3Fl%29%29+as+%3Flabel%0D%0AREPLACE%28STR%28SAMPLE%28%3Ftype%29%29%2C%22.*%23%22%2C%22%22%29+as+%3Ftype%0D%0ASTR%28%3Fcomment%29+as+%3Fcomment%0D%0A%3Fdomain%0D%0A%3Frange%0D%0AFROM+%3Chttp%3A%2F%2Fhitontology.eu%2Fontology%3E%0D%0A%7B%0D%0A++%3Furi+rdfs%3Alabel+%3Fl%3B%0D%0A+++++++rdf%3Atype+%3Ftype.%0D%0A++%7B%3Furi+a+owl%3AClass.%7D+UNION+%7B%3Furi+a+owl%3AObjectProperty.%7D%0D%0A%0D%0A++OPTIONAL+%7B%3Furi+rdfs%3Acomment+%3Fcomment.%7D%0D%0A++OPTIONAL+%7B%7B%3Furi+rdfs%3AsubClassOf+%3Fparent.%7D+UNION+%7B%3Furi+rdfs%3AsubPropertyOf+%3Fparent.%7D%7D%0D%0A++OPTIONAL+%7B%7B%3Furi+rdfs%3Adomain+%3Fdomain%3B+rdfs%3Arange+%3Frange.%7D%7D%0D%0A%0D%0A++FILTER%28LANGMATCHES%28LANG%28%3Fl%29%2C%22en%22%29%7C%7CLANGMATCHES%28LANG%28%3Fl%29%2C%22de%22%29%29%0D%0A%7D+ORDER+BY+ASC%28%3Furi%29%0D%0A&should-sponge=&format=csv",columns:[{id:"label",label:"Bezeichnung"},{id:"suffix",label:"Suffix",html:t=>L(t.uri)},{id:"parent_suffix",label:"Parent",html:t=>L(t.parent)},{id:"comment",label:"Kommentar"},{id:"type",label:"Typ"},{id:"domain",label:"Domain",html:t=>t.domain?`<a href="${t.domain}" target="_blank">${t.domain.replace(/.*\//,"")}</a>`:""},{id:"range",label:"Range",html:t=>t.range?`<a href="${t.range}" target="_blank">${t.range.replace(/.*\//,"")}</a>`:""}],computedColumns:[{html:t=>`<a href="${t.uri}" target="_blank">View</a>`}]};function C(t,e,l){const n=t.slice();return n[9]=e[l],n}function O(t,e,l){const n=t.slice();return n[12]=e[l],n}function N(t,e,l){const n=t.slice();return n[15]=e[l],n}function k(t,e,l){const n=t.slice();return n[9]=e[l],n}function w(t,e,l){const n=t.slice();return n[9]=e[l],n[20]=e,n[21]=l,n}function B(t,e,l){const n=t.slice();return n[9]=e[l],n}function I(t){let e,l,n=t[9].label+"";return{c(){e=r("th"),l=a(n)},l(t){e=o(t,"TH",{});var r=s(e);l=i(r,n),r.forEach(c)},m(t,n){h(t,e,n),u(e,l)},p(t,e){1&e&&n!==(n=t[9].label+"")&&f(l,n)},d(t){t&&c(e)}}}function K(t){let e,l,n,a,i,f;function p(){t[6].call(l,t[20],t[21])}return{c(){e=r("td"),l=r("input"),this.h()},l(t){e=o(t,"TD",{});var n=s(e);l=o(n,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,list:!0}),n.forEach(c),this.h()},h(){d(l,"type","search"),d(l,"class","singleSearch svelte-1u6qyk6"),d(l,"placeholder","üîç"),d(l,"aria-label",n="Suchanfrage nach "+t[9].label),d(l,"list",a=t[9].datalist?t[9].id:void 0)},m(n,r){h(n,e,r),u(e,l),m(l,t[9].query),i||(f=g(l,"input",p),i=!0)},p(e,r){t=e,1&r&&n!==(n="Suchanfrage nach "+t[9].label)&&d(l,"aria-label",n),1&r&&a!==(a=t[9].datalist?t[9].id:void 0)&&d(l,"list",a),1&r&&m(l,t[9].query)},d(t){t&&c(e),i=!1,f()}}}function _(t){let e,l,n=t[15][t[9].id]+"";return{c(){e=r("td"),l=a(n)},l(t){e=o(t,"TD",{});var r=s(e);l=i(r,n),r.forEach(c)},m(t,n){h(t,e,n),u(e,l)},p(t,e){3&e&&n!==(n=t[15][t[9].id]+"")&&f(l,n)},d(t){t&&c(e)}}}function P(t){let e,l=t[9].html(t[15])+"";return{c(){e=r("td")},l(t){e=o(t,"TD",{}),s(e).forEach(c)},m(t,n){h(t,e,n),e.innerHTML=l},p(t,n){3&n&&l!==(l=t[9].html(t[15])+"")&&(e.innerHTML=l)},d(t){t&&c(e)}}}function M(t){let e;function l(t,e){return t[9].html?P:_}let n=l(t),r=n(t);return{c(){r.c(),e=A()},l(t){r.l(t),e=A()},m(t,l){r.m(t,l),h(t,e,l)},p(t,a){n===(n=l(t))&&r?r.p(t,a):(r.d(1),r=n(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&c(e)}}}function R(t){let e,l,n=[...t[0].columns,...t[0].computedColumns],a=[];for(let r=0;r<n.length;r+=1)a[r]=M(k(t,n,r));return{c(){e=r("tr");for(let t=0;t<a.length;t+=1)a[t].c();l=p()},l(t){e=o(t,"TR",{});var n=s(e);for(let e=0;e<a.length;e+=1)a[e].l(n);l=y(n),n.forEach(c)},m(t,n){h(t,e,n);for(let l=0;l<a.length;l+=1)a[l].m(e,null);u(e,l)},p(t,r){if(3&r){let o;for(n=[...t[0].columns,...t[0].computedColumns],o=0;o<n.length;o+=1){const s=k(t,n,o);a[o]?a[o].p(s,r):(a[o]=M(s),a[o].c(),a[o].m(e,l))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(t){t&&c(e),D(a,t)}}}function $(t){let e,l,n=t[9].datalist,a=[];for(let r=0;r<n.length;r+=1)a[r]=q(O(t,n,r));return{c(){e=r("datalist");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=o(t,"DATALIST",{id:!0});var l=s(e);for(let e=0;e<a.length;e+=1)a[e].l(l);l.forEach(c),this.h()},h(){d(e,"id",l=t[9].id)},m(t,l){h(t,e,l);for(let n=0;n<a.length;n+=1)a[n].m(e,null)},p(t,r){if(1&r){let l;for(n=t[9].datalist,l=0;l<n.length;l+=1){const o=O(t,n,l);a[l]?a[l].p(o,r):(a[l]=q(o),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=n.length}1&r&&l!==(l=t[9].id)&&d(e,"id",l)},d(t){t&&c(e),D(a,t)}}}function q(t){let e,l;return{c(){e=r("option"),this.h()},l(t){e=o(t,"OPTION",{value:!0}),s(e).forEach(c),this.h()},h(){e.__value=l=t[12],e.value=e.__value},m(t,l){h(t,e,l)},p(t,n){1&n&&l!==(l=t[12])&&(e.__value=l,e.value=e.__value)},d(t){t&&c(e)}}}function x(t){let e,l=t[9].datalist&&$(t);return{c(){l&&l.c(),e=A()},l(t){l&&l.l(t),e=A()},m(t,n){l&&l.m(t,n),h(t,e,n)},p(t,n){t[9].datalist?l?l.p(t,n):(l=$(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&c(e)}}}function H(t){let e,l,n,m,A,v,T,E,L,S,O,k,_,P,M=t[0].title+"",$=t[0].columns,q=[];for(let r=0;r<$.length;r+=1)q[r]=I(B(t,$,r));let H=t[0].columns,G=[];for(let r=0;r<H.length;r+=1)G[r]=K(w(t,H,r));let U=t[1],j=[];for(let r=0;r<U.length;r+=1)j[r]=R(N(t,U,r));let Y=t[0].columns,z=[];for(let r=0;r<Y.length;r+=1)z[r]=x(C(t,Y,r));return{c(){e=r("main"),l=r("h1"),n=a(M),m=p(),A=r("input"),v=p(),T=r("table");for(let t=0;t<q.length;t+=1)q[t].c();E=p(),L=r("tbody"),S=r("tr");for(let t=0;t<G.length;t+=1)G[t].c();O=p();for(let t=0;t<j.length;t+=1)j[t].c();k=p();for(let t=0;t<z.length;t+=1)z[t].c();this.h()},l(t){e=o(t,"MAIN",{});var r=s(e);l=o(r,"H1",{});var a=s(l);n=i(a,M),a.forEach(c),m=y(r),A=o(r,"INPUT",{type:!0,placeholder:!0,style:!0,tabindex:!0,autofocus:!0}),v=y(r),T=o(r,"TABLE",{style:!0,"aria-label":!0});var h=s(T);for(let e=0;e<q.length;e+=1)q[e].l(h);E=y(h),L=o(h,"TBODY",{});var u=s(L);S=o(u,"TR",{});var f=s(S);for(let e=0;e<G.length;e+=1)G[e].l(f);f.forEach(c),O=y(u);for(let e=0;e<j.length;e+=1)j[e].l(u);u.forEach(c),h.forEach(c),k=y(r);for(let e=0;e<z.length;e+=1)z[e].l(r);r.forEach(c),this.h()},h(){d(A,"type","search"),d(A,"placeholder","üîç"),b(A,"width","80%"),b(A,"min-width","20em"),d(A,"tabindex","0"),A.autofocus=!0,b(T,"width","100%"),d(T,"aria-label","Glossareintr√§ge")},m(r,a){h(r,e,a),u(e,l),u(l,n),u(e,m),u(e,A),u(e,v),u(e,T);for(let t=0;t<q.length;t+=1)q[t].m(T,null);u(T,E),u(T,L),u(L,S);for(let t=0;t<G.length;t+=1)G[t].m(S,null);u(L,O);for(let t=0;t<j.length;t+=1)j[t].m(L,null);u(e,k);for(let t=0;t<z.length;t+=1)z[t].m(e,null);A.focus(),_||(P=g(A,"input",t[2]),_=!0)},p(t,[l]){if(1&l&&M!==(M=t[0].title+"")&&f(n,M),1&l){let e;for($=t[0].columns,e=0;e<$.length;e+=1){const n=B(t,$,e);q[e]?q[e].p(n,l):(q[e]=I(n),q[e].c(),q[e].m(T,E))}for(;e<q.length;e+=1)q[e].d(1);q.length=$.length}if(1&l){let e;for(H=t[0].columns,e=0;e<H.length;e+=1){const n=w(t,H,e);G[e]?G[e].p(n,l):(G[e]=K(n),G[e].c(),G[e].m(S,null))}for(;e<G.length;e+=1)G[e].d(1);G.length=H.length}if(3&l){let e;for(U=t[1],e=0;e<U.length;e+=1){const n=N(t,U,e);j[e]?j[e].p(n,l):(j[e]=R(n),j[e].c(),j[e].m(L,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=U.length}if(1&l){let n;for(Y=t[0].columns,n=0;n<Y.length;n+=1){const r=C(t,Y,n);z[n]?z[n].p(r,l):(z[n]=x(r),z[n].c(),z[n].m(e,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=Y.length}},i:F,o:F,d(t){t&&c(e),D(q,t),D(G,t),D(j,t),D(z,t),_=!1,P()}}}function G(t,e,l){let n=[],r=[],a=null;for(let s=0;s<S.columns.length;s++);!async function(){l(3,n=await v(S.csv)),n.sort(((t,e)=>t[S.sortKey]>e[S.sortKey]?1:-1)),l(1,r=n),l(4,a=new E(n,S,!0))}();let o="";return t.$$.update=()=>{if(59&t.$$.dirty&&n.length>0&&a){l(1,r=a.search(o));for(const t of S.columns)t.query&&l(1,r=r.filter((e=>e[t.id].toLowerCase().includes(t.query.toLowerCase()))))}},[S,r,t=>{l(5,o=t.target.value)},n,a,o,function(t,e){t[e].query=this.value,l(0,S)}]}export default class extends e{constructor(t){super(),l(this,t,G,H,n,{})}}
